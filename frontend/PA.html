<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>AI Business Rules Configuration</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
body {
  font-family: Arial, sans-serif;
  background: #f2f4f7;
  padding: 20px;
}
.container {
  max-width: 1000px;
  background: #fff;
  margin: auto;
  padding: 25px;
  border-radius: 8px;
  box-shadow: 0 0 12px rgba(0,0,0,0.1);
}
h2, h3 {
  margin-bottom: 15px;
}
label {
  font-weight: bold;
  margin-top: 15px;
  display: block;
}
select, input, textarea {
  width: 100%;
  margin-top: 6px;
  padding: 8px;
}
textarea {
  min-height: 80px;
}
button {
  margin-top: 25px;
  padding: 12px 20px;
  background: #007bff;
  border: none;
  color: white;
  border-radius: 4px;
  cursor: pointer;
}
button:hover {
  background: #0056b3;
}
pre {
  background: #111;
  color: #0f0;
  padding: 15px;
  margin-top: 20px;
  border-radius: 5px;
  overflow-x: auto;
}
.note {
  font-size: 14px;
  color: #555;
}
</style>
</head>

<body>

<div class="container">
<h2>AI Rules Setup – Business Owner Panel</h2>

<!-- BASIC INFO -->
<label>Business Name</label>
<input id="name" placeholder="Business name" />

<label>Business Domain</label>
<select id="domain">
  <option value="general">General</option>
  <option value="healthcare">Healthcare / Clinic</option>
  <option value="ecommerce">E-commerce</option>
  <option value="restaurant">Restaurant / Cafe</option>
  <option value="real_estate">Real Estate</option>
  <option value="services">Service Business</option>
</select>

<label>Communication Tone</label>
<select id="tone">
  <option value="professional">Professional</option>
  <option value="friendly">Friendly</option>
  <option value="formal">Formal</option>
</select>

<label>Primary Language</label>
<select id="language">
  <option value="english">English</option>
  <option value="hinglish">Hinglish</option>
  <option value="hindi">Hindi</option>
</select>

<hr>

<!-- SALES & PRICING -->
<h3>Sales & Pricing</h3>

<label>Can AI answer pricing?</label>
<select id="pricing">
  <option value="no">No – Escalate to human</option>
  <option value="yes">Yes – Allowed</option>
</select>

<label>Can AI offer discounts?</label>
<select id="discount">
  <option value="no">No</option>
  <option value="yes">Yes (pre-approved only)</option>
</select>

<label>Can AI confirm orders / bookings?</label>
<select id="orders">
  <option value="no">No – Human confirmation required</option>
  <option value="yes">Yes</option>
</select>

<hr>

<!-- CUSTOMER HANDLING -->
<h3>Customer Handling</h3>

<label>Angry / Negative comments</label>
<select id="angry">
  <option value="apologize_dm">Apologize + move to DM</option>
  <option value="handoff">Immediate handoff to human</option>
</select>

<label>Refund / Cancellation requests</label>
<select id="refund">
  <option value="handoff">Always escalate</option>
  <option value="policy">Reply with policy only</option>
</select>

<label>Competitor comparison questions</label>
<select id="competitor">
  <option value="neutral">Neutral response only</option>
  <option value="avoid">Avoid & redirect</option>
</select>

<hr>

<!-- AVAILABILITY -->
<h3>Availability Rules</h3>

<label>Outside business hours</label>
<select id="afterHours">
  <option value="auto_reply">Send auto-reply</option>
  <option value="wait">Wait for human</option>
</select>

<label>Maximum response length</label>
<select id="length">
  <option value="short">Short (1–2 lines)</option>
  <option value="medium">Medium</option>
  <option value="long">Detailed</option>
</select>

<hr>

<!-- CUSTOM OWNER RULES -->
<h3>Owner Custom Rules (Optional)</h3>
<textarea id="customRules"
placeholder="Example:
- Never mention competitors by name
- Always greet customers by name
- Do not promise delivery dates
"></textarea>

<button onclick="buildRules()">Generate Rulesheet</button>

<pre id="output"></pre>

</div>

<script>
function buildRules() {
  const domain = document.getElementById("domain").value;

  let restricted = ["legal_advice"];
  if (domain === "healthcare") restricted.push("medical_advice");

  const rulesheet = {
    business: {
      name: document.getElementById("name").value || "Unnamed",
      domain: domain
    },
    communication: {
      tone: document.getElementById("tone").value,
      language: document.getElementById("language").value,
      emoji_usage: "minimal",
      response_length: document.getElementById("length").value
    },
    sales: {
      pricing_allowed: document.getElementById("pricing").value === "yes",
      discount_allowed: document.getElementById("discount").value === "yes",
      order_confirmation: document.getElementById("orders").value === "yes"
    },
    customer_handling: {
      angry_customers: document.getElementById("angry").value,
      refunds: document.getElementById("refund").value,
      competitor_questions: document.getElementById("competitor").value
    },
    availability: {
      after_hours: document.getElementById("afterHours").value
    },
    safety: {
      restricted_topics: restricted
    },
    owner_custom_rules: document.getElementById("customRules").value
        .split("\n")
        .filter(r => r.trim() !== ""),
    meta: {
      version: "v1",
      generated_at: new Date().toISOString()
    }
  };

  document.getElementById("output").textContent =
    JSON.stringify(rulesheet, null, 2);
}
</script>

</body>
</html>
